<div class="login-container">
  <!-- Formulario (Lado Izquierdo) -->
  <div class="login-formulario">
    <h1>Iniciar Sesión</h1>
    <p class="subtitle">Ingresa tus credenciales para acceder a tu cuenta.</p>

    <!-- ✅ Mensajes de estado -->
    <div *ngIf="message" class="mensaje-exito">{{ message }}</div>
    <div *ngIf="error" class="mensaje-error">{{ error }}</div>

    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
      <!-- Email -->
      <div class="form-group">
        <label for="email">Correo electrónico</label>
        <input
          id="email"
          type="email"
          formControlName="email"
          placeholder="patoducas@gmail.com"
          [class.invalido]="campoInvalido('email')"
        />
        <small *ngIf="campoInvalido('email')" class="mensaje-error">
            El correo es requerido.
        </small>
      </div>

      <!-- Contraseña -->
      <div class="form-group password-container">
        <label for="password">Contraseña</label>
        <div class="password-field">
          <input
            id="password"
            [type]="showPassword ? 'text' : 'password'"
            formControlName="password"
            placeholder="********"
            [class.invalido]="campoInvalido('password')"
          />
          <button
            type="button"
            class="toggle-password"
            (click)="togglePassword()"
            aria-label="Mostrar u ocultar contraseña"
          >
            <!-- Íconos de Font Awesome -->
            <i [class]="showPassword ? 'fa-solid fa-eye' : 'fa-solid fa-eye-slash' "></i>
          </button>
        </div>
        <small *ngIf="campoInvalido('password')" class="mensaje-error">
            La contraseña es requerida.
        </small>
      </div>

      <!-- Checkbox Recordarme (Estética de la imagen) -->
      <div class="form-check">
        <input class="form-check-input" type="checkbox" id="rememberMe" formControlName="rememberMe">
        <label class="form-check-label" for="rememberMe">
          Recordarme
        </label>
      </div>

      <!-- Botón -->
      <button type="submit" [disabled]="loginForm.invalid || isSubmitting">
        {{ isSubmitting ? 'Iniciando...' : 'Iniciar Sesión' }}
      </button>

      <!-- Enlace a registro -->
      <p class="registro-link">
        ¿No tienes una cuenta?
        <a routerLink="/registro">Regístrate</a>
      </p>
    </form>
  </div>

  <!-- Imagen lateral (Lado Derecho) -->
  <div class="login-imagen">
    <!-- Usamos la misma imagen del registro -->
    <img src="/public/img/imagenVIaje.jpg" alt="Hotel de lujo con piscina" />
  </div>
</div>